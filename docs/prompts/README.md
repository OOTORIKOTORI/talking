# プロンプトテンプレート

AI との対話で効率的にタスクを進めるためのプロンプト集です。

---

## 直接編集モードヘッダー

毎回のチャットで以下をコピー&ペーストしてください。AI が直接ファイルを編集し、チャットに長文を出力しません。

```markdown
# モード: 直接編集 (Workspace Edits)
- 変更はワークスペースに直接適用。ファイル本文をチャットに長文出力しない。
- 実行後は「作成/変更したファイル一覧」と簡単な要約だけを出力。
- 既存構成は尊重し最小差分。不要なリネームはしない。
```

---

## タスク指示テンプレート

小タスクを依頼する際のテンプレートです。

[TASK_PROMPT_TEMPLATE.md](./TASK_PROMPT_TEMPLATE.md) を参照してください。

---

## よくある指示パターン

### パターン 1: 新機能追加

```markdown
# モード: 直接編集

# 目的
アセット一覧画面にタグフィルタを追加

# 変更範囲
- Frontend: `apps/frontend/pages/assets/index.vue`
- API: `apps/api/src/assets/assets.service.ts`

# 要求
- タグ選択 UI (複数選択可能)
- 選択したタグで AND フィルタ
- API クエリパラメータ `tags` で配列を受け取る

# 完了条件
- タグを選択すると該当アセットのみ表示
- 型エラーなし
- `pnpm dev:all` で正常起動
```

### パターン 2: バグ修正

```markdown
# モード: 直接編集

# 目的
署名付き URL でアップロードが 403 エラーになる問題を修正

# 現象
- Frontend から MinIO へ PUT すると 403
- CORS エラーがブラウザコンソールに表示

# 推測原因
- MinIO の CORS 設定が不足
- バケットポリシーが不適切

# 対応方針
- `cors.json` を確認・修正
- MinIO 再起動手順をドキュメント化
```

### パターン 3: ドキュメント更新

```markdown
# モード: 直接編集

# 目的
ハンドオフ手順を docs/ に追加

# 追加内容
- ハンドオフとは何か
- テンプレートの使い方
- 例: セッション A → セッション B の引き継ぎ

# 完了条件
- `docs/handoff.md` 作成
- `docs/templates/HANDOFF_CONTEXT_TEMPLATE.md` 作成
- `docs/README.md` にリンク追加
```

---

## ベストプラクティス

### 1. 目的を明確に

「何がしたいか」を 1-2 行で端的に記載。

### 2. 変更範囲を限定

ファイルパスを明示することで、AI が的確に編集。

### 3. 完了条件を定義

「どうなれば完了か」を明記。型エラー・起動確認など。

### 4. スクリーンショットを添付

UI 変更の場合、ビフォー・アフターを示す。

---

## 関連ドキュメント

- [ハンドオフ手順](../handoff.md): 複数チャット向け引き継ぎ
- [ワークフロー](../workflow.md): ブランチ・コミット規約
- [ADR](../adr/README.md): 設計判断の記録
