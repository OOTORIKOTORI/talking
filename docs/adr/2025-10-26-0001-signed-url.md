# ADR-0001: 署名付き GET で表示 (バケット公開しない)

## 日付
2025-10-26

## 状況 (Context)
MinIO のバケットを公開すると、URL を知っている誰でもアクセス可能になってしまう。セキュリティ上のリスクがある。

## 決定 (Decision)
MinIO のバケットは非公開とし、GET/PUT は署名付き URL でアクセスする。

## 理由 (Rationale)
- セキュリティを確保: アクセス制御を API で一元管理できる
- S3 のベストプラクティスに準拠: AWS S3 でも推奨される方法
- 将来の拡張性: 認証機能追加時にアクセス制御が容易

## 影響 (Consequences)
- **メリット**:
  - 不正アクセスを防げる
  - アクセスログを API で記録可能
  - 署名付き URL の有効期限を設定できる

- **デメリット**:
  - 毎回署名付き URL を生成する必要がある (パフォーマンスへの影響は軽微)
  - CORS 設定が必須 (MinIO 側で `cors.json` を設定)
  - CDN キャッシュが効きにくい (署名付き URL は毎回異なる)
